<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GSAP Curso @midudev</title>
    <style>
        body{
            background-color: #222;
            font-family: system-ui;

        }

        .box{
            width: 75px;
            height: 75px;
            border-radius: 12px;
            background-color: pink;
            margin-bottom: 6px;

            &.purple{
                background-color: rgb(200, 200, 255);
            }

            &.blue{
                background-color: lightskyblue;
            }

            &.green{
                background-color: lightgreen;
            }
        }

        .grid{
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            
            img{
                aspect-ratio: 5/8;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div> -->

    <!-- <div class="grid">
        <img src="https://i.pinimg.com/564x/63/1b/0f/631b0ffb4742f20387be121bcc67801b.jpg">
        <img src="https://hablandodecomics.wordpress.com/wp-content/uploads/2012/08/iron-man-216.jpg">
        <img src="https://hablandodecomics.wordpress.com/wp-content/uploads/2012/02/portada-82-silver-surfer.jpg">
        <img src="https://hablandodecomics.wordpress.com/wp-content/uploads/2012/02/portada-90-batman-648.jpg">
        <img src="https://hablandodecomics.wordpress.com/wp-content/uploads/2012/02/portada-86-x-men-190.jpg">
        <img src="https://hablandodecomics.wordpress.com/wp-content/uploads/2012/02/portada-88-x-men.jpg">
        <img src="https://f.rpp-noticias.io/2020/10/15/10103421jpg.jpg">
        <img src="https://hablandodecomics.wordpress.com/wp-content/uploads/2012/08/what-if-43.jpg">
        <img src="https://i.pinimg.com/564x/38/00/2f/38002f67df2a00194a03661795a2e015.jpg">
    </div> -->

    <div class="box purple"></div>
    <div class="box blue"></div>
    <div class="box green"></div>

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>

    <script>
        //aminacion -> tween

        //to -> desde el estado actual hacia donde tiene que ir
        //from -> desde donde tiene que iniciar la animacion para llegar al estado inicial que tiene
        //fromTo -> combinacion de ambos, se define desde donde inicia y termina. se deben pasar dos objetos
        //set -> establece las propiedades de inmediato sin aplicar animacion
        
        //por defecto esto devuleve un document.querySelectorAll -> selecciona todos los elementos que cumplen con el selector
        // gsap.to('.box', {
        //     x: 100,
        //     duration: 2,
        // });

        // gsap.to('.box:nth-child(2)', {
        //     x: 200,
        //     y: 10, 
        //     duration: 2 
        // });

        //ANIMACION TIPO ESCALERA MANUAL

        //seleccionamos las cajas del dom
        // const boxes = document.querySelectorAll('.box');

        // //iteramos cada caja 
        // boxes.forEach( (box, i) => {
        //     //a cada iteracion se le va agregando la animacion
        //     gsap.to(box, { //en vez de pasar texto, pasamos el elemento box 
        //         x: () => window.innerWidth / 2, //px por defecto, se pueden enviar otras medidas entre comillas "100vh" y HASTA FUNCIONES !!
        //         duration: 1,
        //         delay: i * .5, 
        //     })
        // });

        gsap.to('.boxx', { //todos los que tengan la clase box
            x: 200, //px por defecto, se pueden enviar otras medidas entre comillas "100vh" y HASTA FUNCIONES !!
            duration: 1,
            rotate: 360, //grados c
            scale: .5, //transformacion del tamaño
            //repeat: -1, //-1 es inifinito, otro num es la cant. de repeticiones
            //yoyo: true, //hace que regrese

            //hasta que termine TODO el escalonado se activa la animacion YOYO
            //stagger: .2, //velocidad del escalonado

            //PERO 
            //no necesariamente tiene que esperar a que termine todo el escalonado,
            //se puede animar cada caja
            stagger: {
                each: .2, //velocidad del escalonado
                repeat: -1, //inifinito
                yoyo: true,
            }

        })

        gsap.to('.grid img', {
            duration: 2,
            scale: .9,
            opacity: 0,
            stagger: {
                each: .5,
                repeat: -1,
                yoyo: true,
                grid: 'auto', //actua sabiendo que estan en una malla
                from: 'center', //desde donde inicia la animacion: start, center, edges, end, random
            }
        })

        //SUAVIZADOS -> EASING
        //https://gsap.com/docs/v3/Eases/
        //forma en que una animación acelera o desacelera
        //es lo que le da vida al movimiento

        //separar los elementos con la misma clase
        // gsap.to('.box.purple',{
        //     x: 200,
        //     duration: 2,
        //     rotate: 360,
        //     scale: .75,
        //     repeat: -1, 
        //     yoyo: true,
        //     //ease -> cambia la sensacion del movimiento
        //     // ease: expo, bounce, back, steps, elastic
        //     // in -> inicio, entrada. out -> al terminar, salida
        //     ease: 'expoScale' 
        // });

        
        //aunque tengan la misma animacion, el suavizado los hace ver completamente diferentes
        // gsap.to('.box.blue',{
        //     x: 200,
        //     duration: 2,
        //     rotate: 360,
        //     scale: .75,
        //     repeat: -1, 
        //     yoyo: true,
            
        // });

        //LINEA DEL TIEMPO PARA CONTROLAR LAS ANIMACIONES

        //SIN TIMELINE -> usando delay manual en cada caja
        // gsap.to('.box.purple',{
        //     duration: 2,
        //     x: 200,
        // });

        // gsap.to('.box.blue',{
        //     duration: 1,
        //     y: -80,
        //     delay: 2,
        // });
        
        // gsap.to('.box.green',{
        //     x: 100,
        //     y: -160,
        //     delay: 3,
        // });

        //CON TIMELINE
        const tl = gsap.timeline({
            defaults: {
                duration: 2,
            }
        });

        tl
            .to('.box.purple',{
                x: 200,
            })
            .to('.box.blue',{
                y: -80,
                duration: 1, //el valor por defecto se puede sobreescribir
            })
            .to('.box.green',{
                x: 100,
                y: -160,
            })

    </script>
</body>
</html>